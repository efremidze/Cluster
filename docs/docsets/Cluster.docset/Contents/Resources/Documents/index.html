<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Cluster  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="Cluster  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">Cluster Docs</a> (56% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">Cluster Reference</a>
        <img id="carat" src="img/carat.png" />
        Cluster  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Annotation.html">Annotation</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ClusterAnnotation.html">ClusterAnnotation</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ClusterAnnotationView.html">ClusterAnnotationView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ClusterManager.html">ClusterManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ClusterManager/ClusterPosition.html">â€“ ClusterPosition</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/QuadTree.html">QuadTree</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/ClusterAnnotationStyle.html">ClusterAnnotationStyle</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/CLLocationCoordinate2D.html">CLLocationCoordinate2D</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions.html#/s:7Cluster2eeoiSbSC22CLLocationCoordinate2DV_ADtF">==(_:_:)</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p><img src="https://raw.githubusercontent.com/efremidze/Cluster/master/Images/logo.png" alt="Cluster"></p>

<p align="center">
<a href="https://swift.org" target="_blank">
<img alt="Language" src="https://img.shields.io/badge/Swift-4-orange.svg?style=flat">
</a>
<a href="http://cocoapods.org/pods/Cluster" target="_blank">
<img alt="Version" src="https://img.shields.io/cocoapods/v/Cluster.svg?style=flat">
</a>
<a href="http://cocoapods.org/pods/Cluster" target="_blank">
<img alt="License" src="https://img.shields.io/cocoapods/l/Cluster.svg?style=flat">
</a>
<a href="http://cocoapods.org/pods/Cluster" target="_blank">
<img alt="Platform" src="https://img.shields.io/cocoapods/p/Cluster.svg?style=flat">
</a>
<a href="https://github.com/Carthage/Carthage" target="_blank">
<img alt="Carthage compatible" src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat">
</a>
</p>

<p><strong>Cluster</strong> is an easy map annotation clustering library. This repository uses an efficient method (QuadTree) to aggregate pins into a cluster.</p>

<p>You may want to see the <a href="Example/">Example</a> first if you&rsquo;d like to see the actual code.</p>

<p><img src="https://raw.githubusercontent.com/efremidze/Cluster/master/Images/demo.gif" width="320"></p>
<pre class="highlight plaintext"><code>$ pod try Cluster
</code></pre>
<h2 id='features' class='heading'>Features</h2>

<ul>
<li>[x] Adding/Removing Annotations</li>
<li>[x] Clustering Annotations</li>
<li>[x] Multiple Managers</li>
<li>[x] Dynamic Cluster Disabling</li>
<li>[x] Custom Cell Size</li>
<li>[x] Custom Annotation Views</li>
<li>[x] Animation Support</li>
<li>[x] <a href="https://efremidze.github.io/Cluster">Documentation</a></li>
</ul>
<h2 id='requirements' class='heading'>Requirements</h2>

<ul>
<li>iOS 8.0+</li>
<li>Xcode 9.0+</li>
<li>Swift 4 (Cluster 2.x), Swift 3 (Cluster 1.x)</li>
</ul>
<h2 id='usage' class='heading'>Usage</h2>

<p>Follow the instructions below:</p>
<h3 id='step-1-initialize-a-clustermanager-object' class='heading'>Step 1: Initialize a ClusterManager object</h3>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">clusterManager</span> <span class="o">=</span> <span class="kt">ClusterManager</span><span class="p">()</span>
</code></pre>
<h3 id='step-2-add-annotations' class='heading'>Step 2: Add annotations</h3>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">annotation</span> <span class="o">=</span> <span class="kt">Annotation</span><span class="p">()</span>
<span class="n">annotation</span><span class="o">.</span><span class="n">coordinate</span> <span class="o">=</span> <span class="kt">CLLocationCoordinate2D</span><span class="p">(</span><span class="nv">latitude</span><span class="p">:</span> <span class="n">latitude</span><span class="p">,</span> <span class="nv">longitude</span><span class="p">:</span> <span class="n">longitude</span><span class="p">)</span>
<span class="n">annotation</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="o">.</span><span class="nf">color</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="nv">radius</span><span class="p">:</span> <span class="mi">25</span><span class="p">)</span> <span class="c1">// .image(UIImage(named: "pin"))</span>
<span class="n">clusterManager</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">annotation</span><span class="p">)</span>
</code></pre>
<h3 id='step-3-return-the-pins-and-clusters' class='heading'>Step 3: Return the pins and clusters</h3>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">mapView</span><span class="p">(</span><span class="n">_</span> <span class="nv">mapView</span><span class="p">:</span> <span class="kt">MKMapView</span><span class="p">,</span> <span class="n">viewFor</span> <span class="nv">annotation</span><span class="p">:</span> <span class="kt">MKAnnotation</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">MKAnnotationView</span><span class="p">?</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">view</span> <span class="o">=</span> <span class="n">mapView</span><span class="o">.</span><span class="nf">dequeueReusableAnnotationView</span><span class="p">(</span><span class="nv">withIdentifier</span><span class="p">:</span> <span class="n">identifier</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">view</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="n">view</span> <span class="o">=</span> <span class="kt">ClusterAnnotationView</span><span class="p">(</span><span class="nv">annotation</span><span class="p">:</span> <span class="n">annotation</span><span class="p">,</span> <span class="nv">reuseIdentifier</span><span class="p">:</span> <span class="n">identifier</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="n">style</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">view</span><span class="p">?</span><span class="o">.</span><span class="n">annotation</span> <span class="o">=</span> <span class="n">annotation</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">view</span>
<span class="p">}</span>
</code></pre>
<h3 id='step-4-reload-the-annotations' class='heading'>Step 4: Reload the annotations</h3>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">mapView</span><span class="p">(</span><span class="n">_</span> <span class="nv">mapView</span><span class="p">:</span> <span class="kt">MKMapView</span><span class="p">,</span> <span class="n">regionDidChangeAnimated</span> <span class="nv">animated</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">clusterManager</span><span class="o">.</span><span class="nf">reload</span><span class="p">(</span><span class="n">mapView</span><span class="p">)</span> <span class="p">{</span> <span class="n">finished</span> <span class="k">in</span>
        <span class="c1">// handle completion</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h2 id='customization' class='heading'>Customization</h2>

<p>The <code><a href="Classes/ClusterManager.html">ClusterManager</a></code> exposes several properties to customize clustering:</p>
<pre class="highlight swift"><code><span class="k">var</span> <span class="nv">cellSize</span><span class="p">:</span> <span class="kt">Double</span><span class="p">?</span> <span class="c1">// The size of each cell on the grid (The larger the size, the better the performance).</span>
<span class="k">var</span> <span class="nv">zoomLevel</span><span class="p">:</span> <span class="kt">Double</span> <span class="c1">// The current zoom level of the visible map region.</span>
<span class="k">var</span> <span class="nv">maxZoomLevel</span><span class="p">:</span> <span class="kt">Double</span> <span class="c1">// The maximum zoom level before disabling clustering.</span>
<span class="k">var</span> <span class="nv">minCountForClustering</span><span class="p">:</span> <span class="kt">Int</span> <span class="c1">// The minimum number of annotations for a cluster. The default is `2`.</span>
<span class="k">var</span> <span class="nv">shouldRemoveInvisibleAnnotations</span><span class="p">:</span> <span class="kt">Bool</span> <span class="c1">// Whether to remove invisible annotations. The default is `true`.</span>
<span class="k">var</span> <span class="nv">clusterPosition</span><span class="p">:</span> <span class="kt">ClusterPosition</span> <span class="c1">// The position of the cluster annotation. The default is `.nearCenter`.</span>
</code></pre>
<h3 id='annotations' class='heading'>Annotations</h3>

<p>The <code><a href="Classes/Annotation.html">Annotation</a></code> class exposes a <code>style</code> property that allows you to customize the appearance.</p>
<pre class="highlight swift"><code><span class="k">var</span> <span class="nv">style</span><span class="p">:</span> <span class="kt">ClusterAnnotationStyle</span> <span class="c1">// The style of the cluster annotation view.</span>
</code></pre>

<p>You can further customize the annotations by subclassing <code><a href="Classes/ClusterAnnotationView.html">ClusterAnnotationView</a></code> and overriding <code>configure</code>:</p>
<pre class="highlight swift"><code><span class="k">override</span> <span class="kd">func</span> <span class="nf">configure</span><span class="p">(</span><span class="n">with</span> <span class="nv">style</span><span class="p">:</span> <span class="kt">ClusterAnnotationStyle</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="o">.</span><span class="nf">configure</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">style</span><span class="p">)</span>

    <span class="c1">// customize</span>
<span class="p">}</span>
</code></pre>
<h2 id='installation' class='heading'>Installation</h2>
<h3 id='cocoapods' class='heading'>CocoaPods</h3>

<p>To install with <a href="http://cocoapods.org/">CocoaPods</a>, simply add this in your <code>Podfile</code>:</p>
<pre class="highlight ruby"><code><span class="n">use_frameworks!</span>
<span class="n">pod</span> <span class="s2">"Cluster"</span>
</code></pre>
<h3 id='carthage' class='heading'>Carthage</h3>

<p>To install with <a href="https://github.com/Carthage/Carthage">Carthage</a>, simply add this in your <code>Cartfile</code>:</p>
<pre class="highlight ruby"><code><span class="n">github</span> <span class="s2">"efremidze/Cluster"</span>
</code></pre>
<h2 id='communication' class='heading'>Communication</h2>

<ul>
<li>If you <strong>found a bug</strong>, open an issue.</li>
<li>If you <strong>have a feature request</strong>, open an issue.</li>
<li>If you <strong>want to contribute</strong>, submit a pull request.</li>
</ul>
<h2 id='mentions' class='heading'>Mentions</h2>

<ul>
<li><a href="https://swiftnews.curated.co/issues/128#start">Natasha The Robot&rsquo;s Newsleter 128</a></li>
<li><a href="https://medium.cobeisfresh.com/top-5-ios-libraries-may-2017-6e3ac5077473">Top 5 iOS Libraries May 2017</a></li>
</ul>
<h2 id='credits' class='heading'>Credits</h2>

<ul>
<li><a href="https://github.com/ribl/FBAnnotationClusteringSwift">https://github.com/ribl/FBAnnotationClusteringSwift</a></li>
<li><a href="https://github.com/choefele/CCHMapClusterController">https://github.com/choefele/CCHMapClusterController</a></li>
<li><a href="https://github.com/googlemaps/google-maps-ios-utils">https://github.com/googlemaps/google-maps-ios-utils</a></li>
</ul>
<h2 id='license' class='heading'>License</h2>

<p>Cluster is available under the MIT license. See the LICENSE file for more info.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2018 <a class="link" href="https://github.com/efremidze/Cluster" target="_blank" rel="external">efremidze</a>. All rights reserved. (Last updated: 2018-05-06)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy â™ªâ™« v0.9.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
